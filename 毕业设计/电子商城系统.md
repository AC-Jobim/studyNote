

任务一：

* ~~修改api前缀~~
* ~~完成点击验证码刷新~~
* ~~完成vue的登陆~~
* ~~后端登陆时生成token~~
* router中加入token相关
* 退出登陆：
* ~~npm install，删除modules文件夹~~



任务1：

* ~~建立角色数据库，定义结构体~~
* ~~去掉deletedAt字段~~
* ~~角色的增删改查后端接口（查不需要分页）~~
* gorm的联合查询



任务2：

* ~~管理员的增删改查~~
* ~~添加管理员~~
* 通过id查询管理员
* ~~在管理员数据库中添加修改时间字段~~
* ~~权限的增删改查~~
* ~~权限的删除操作~~
* 给角色分配权限，查询角色所拥有的权限
*  修改超级管理员字段，在角色中增加超级管理员（待商讨）
* 判断当前登陆的用户是否有访问菜单的权限（可以先不写）

* ~~加入校验token的中间件和前端axios发送请求时加入token~~
* 把后端的model都添加json



前端的设计：

* ~~分区设置~~

* ~~获取菜单列表munulist，数据举例~~

  ```json
  {
      "id": 101,
      "authName": "商品管理",
      "path": null,
      "children": [
          {
              "id": 104,
              "authName": "商品列表",
              "path": null,
              "children": []
          }
      ]
  }
  ```

* 侧边栏的展开与关闭

* 判断checked属性决定是否显示

* 角色的增删改查前端

* 设置菜单左边的活跃项

  



后端带思考的问题：

* 如何开启后端的跨域

  





前端带思考的问题：

* 关于侧边栏的路径在数据库里，前端怎么处理

* 同一页面增加和修改的对话框使用一个吗？





# 菜单设计



用户管理：

管理员管理：

权限管理：

* 角色管理
* 权限管理

商品管理：

* 商品分类
* 分类参数
* 商品列表

前端可有可无功能：

* 侧边栏的控制是否展开





# 前台菜单





* 手机
  * 手机配件
  * 耳机
* 数码
* 家电
  * 电视
  * 空调
  * 洗衣机
  * 冰箱
  * 个人健康
  * 
* 电脑办公
  * 笔记本
  * 游戏本
  * 台式机
  * 显示器
  * 机械键盘







任务3：

* 单元测试加载gorm

* 测试管理员的增删改查

* 

  



* 加入jwt认证的中间件（前后端）

* 跑通go写的商城项目

* 数据库er图
* 







* 后端加入参数校验





数据库添加索引和不添加索引的测试



## 轮播图管理









# 项目功能



商品分类



后台管理系统：

* 登陆注册
* 用户管理模块
* RBAC权限管理模块（添加角色、分配权限）
* 商品管理模块（商品分类、）
* 订单管理模块
* 数据统计模块







2） 前台商城系统：登录注册、商品模块（商品搜索、商品购买、收藏商品）、购物车模块、订单模块、用户模块、支付模块（微信支付）



# 详情界面思路

当goodsid发生变化时调用







## 待完善的功能

* 前端按钮的权限控制
* 前端超级管理员的判断
* 后端的权限校验
* 跨域请求的处理（前后端）
* 商品分类暂时不支持三级菜单
* 时间的显示格式
* 富文本编辑器上传图片到服务器
* 给数据库表添加注释
* 加入事务
* 上传图片时判断文件类型
* 是否上传缩略图
* 加入立即购买按钮
* 默认收获地址相关信息
* 删除购物车中选中数据（需要改成删除购物车中生成订单的商品）
* 加入雪花算法生成订单id
* 用户删除订单改成软删除













Access to XMLHttpRequest at 'http://localhost:8111/api/login' from origin 'http://localhost:8085' has been blocked by CORS policy: Request header field authorization is not allowed by Access-Control-Allow-Headers in preflight response.





[9.如何解决出现AXIOS的Request header field Content-Type is not allowed by Access-Control-Allow-Headers in preflight response. - 笨蛋敏 - 博客园 (cnblogs.com)](https://www.cnblogs.com/caimuqing/p/6733405.html)





## 购物车的设计







田老师你好



田老师你好，我是18级软卓的赵斌。我的情况是大一结束去当了两年兵，由于我之前16级和18级的培养计划不一样 ，我当时大一没有大学生礼仪这门课，然后这个学期跟着大一（计算机五班）的一起修的，目前还不知道什么时候出这门课成绩，您看是否可以提前录入我的成绩，不影响我毕业







高雅老师你好，我是计算机与人工智能学院的18级赵斌，学号20162430138。我的情况是大一结束去当了两年兵，由于我之前16级和18级的培养计划不一样 ，我当时大一没有大学生礼仪这门课，退伍回来之后培养计划上又加上了这门。然后这个学期跟着大一（计算机五班）的一起修的，不知道什么时候出这门课成绩，您看能否可以提前录入我的成绩，不影响我毕业。



高雅老师，我是开学三周之后才在教务系统中加的课，加完之后也没有及时进入学习通的群，之后才联系的五班班长进的群，导致前面的签到一直没有签，还望老师通融一下

